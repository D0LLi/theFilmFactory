(this["webpackJsonpthe-film-factory"]=this["webpackJsonpthe-film-factory"]||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/film-reel.a06dd543.svg"},33:function(e,t,a){e.exports=a(62)},38:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var l=a(0),r=a.n(l),n=a(31),i=a.n(n),s=(a(38),a(3)),c=a(4),o=a(6),m=a(5),u=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"welcome"},r.a.createElement("h1",null,"The Film",r.a.createElement("br",null)," Factory"),r.a.createElement("button",{className:"scroll shadow",type:"button",onClick:this.props.scrollToSearch},"Find Your Movie Match")))}}]),a}(l.Component),h=a(10),p=a.n(h),f=a(15),d=a(16),g=a.n(d),E=a(2),b=a(9),v=function(e){var t=e.updateHasErrorState;return r.a.createElement("div",{className:"error-message"},r.a.createElement("div",{className:"main-content"},r.a.createElement("p",null,"Something went wrong,"),r.a.createElement("p",null,"please try again."),r.a.createElement("button",{type:"button",onClick:t},r.a.createElement(E.a,{icon:b.b}))))},F=a(32),y=a.n(F),w=function(){return r.a.createElement("div",{className:"loading-page"},r.a.createElement("div",{className:"main-content"},r.a.createElement("img",{src:y.a,alt:"spinning film reel"}),r.a.createElement("p",null,"Searching database...")))},S=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.film,a=e.closeFilmModal,l=e.selectFilm;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"modal"},r.a.createElement("div",null,r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"Poster for the movie ".concat(t.title)})),r.a.createElement("div",{className:"modal-info"},r.a.createElement("button",{className:"close",type:"button",onClick:a},r.a.createElement(E.a,{icon:b.b})),r.a.createElement("h2",null,t.title),t.title!==t.original_title&&r.a.createElement("h4",null,t.original_title),r.a.createElement("p",{className:"date"},t.release_date.slice(0,4)),r.a.createElement("p",null,r.a.createElement(E.a,{icon:b.a})," ",t.vote_average,"/10"),r.a.createElement("p",null,t.overview),r.a.createElement("button",{className:"select shadow",type:"button",onClick:l},"Select this movie")))))}}]),a}(l.Component),k=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).scrollToFilms=function(){window.scrollTo(0,l.filmsRef.current.offsetTop)},l.displayFilmModal=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l.setState({modal:{film:e,isForeign:t,display:!0}})},l.closeFilmModal=function(){l.setState({modal:{display:!1}})},l.handleChange=function(e){var t=e.target.value;l.setState({userTextInput:t})},l.handleSubmit=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l.setState({foreignFilms:[],isLoading:!0}),a=[],e.next=5,g()({url:"https://api.themoviedb.org/3/search/movie",params:{api_key:"7e436244a51ab62563e1dbbb6bb31f24",query:l.state.userTextInput,language:"en-US",include_adult:!1}}).then((function(e){e.data.results.forEach((function(e){"en"===e.original_language&&e.poster_path&&a.length<10&&a.push(e)})),l.scrollToFilms()})).catch((function(e){e&&!l.state.englishFilms.length&&l.setState({hasError:!0})}));case 5:l.setState({userTextInput:"",englishFilms:a,isLoading:!1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.selectEnglishFilm=Object(f.a)(p.a.mark((function e(){var t,a,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.closeFilmModal(),l.setState({isLoading:!0}),t=l.state.modal.film,a=l.state.modal.film.id,l.props.updateEnglishFilmState(t),l.props.updateForeignFilmState({}),r=[],n=0;case 8:if(!(n<=l.state.totalPages&&r.length<20)){e.next=14;break}return e.next=11,g()({url:"https://api.themoviedb.org/3/movie/".concat(a,"/similar"),params:{api_key:"7e436244a51ab62563e1dbbb6bb31f24",page:n+1}}).then((function(e){e.data.results.forEach((function(e){"en"!==e.original_language&&e.poster_path&&!r.some((function(t){return t.id===e.id}))&&r.length<20&&r.push(e)}));var t=e.data.total_pages;l.setState({totalPages:t})})).catch((function(e){e&&!l.state.foreignFilms.length&&l.setState({hasError:!0,totalPages:0})}));case 11:n++,e.next=8;break;case 14:l.setState({foreignFilms:r,englishFilms:[],isLoading:!1});case 15:case"end":return e.stop()}}),e)}))),l.selectForeignFilm=function(){l.closeFilmModal();var e=l.state.modal.film;l.props.updateForeignFilmState(e),l.setState({foreignFilms:[]})},l.updateHasErrorState=function(){l.setState({hasError:!1,totalPages:0})},l.state={userTextInput:"",englishFilms:[],foreignFilms:[],totalPages:0,isLoading:"",hasError:!1,modal:{film:{},isForeign:!1,display:!1}},l.filmsRef=r.a.createRef(),l}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wrapper"},this.state.modal.display&&r.a.createElement(S,{film:this.state.modal.film,closeFilmModal:this.closeFilmModal,selectFilm:this.state.modal.isForeign?this.selectForeignFilm:this.selectEnglishFilm}),this.state.isLoading&&r.a.createElement(w,null),r.a.createElement("form",{onSubmit:this.handleSubmit,ref:this.props.SearchRef},r.a.createElement("input",{type:"text",value:this.state.userTextInput,onChange:this.handleChange,placeholder:"Enter Movie"}),r.a.createElement("input",{type:"submit",value:"Search"})),r.a.createElement("section",{className:"films",ref:this.filmsRef},this.state.foreignFilms.length?r.a.createElement("h2",null,"If you liked ",this.props.englishFilm.title,", then maybe you'll like..."):this.state.englishFilms.length?r.a.createElement("h2",null,"Did you mean..."):null,r.a.createElement("ul",{className:"grid-container"},this.state.foreignFilms.length?this.state.foreignFilms.map((function(t){return r.a.createElement("li",{key:t.id},r.a.createElement("button",{className:"shadow",type:"button",onClick:function(){return e.displayFilmModal(t,!0)}},r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"Poster for the movie ".concat(t.title)})))})):this.state.englishFilms.map((function(t){return r.a.createElement("li",{key:t.id},r.a.createElement("button",{className:"shadow",type:"button",onClick:function(){return e.displayFilmModal(t)}},r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"Poster for the movie ".concat(t.title)})))})))),this.state.hasError&&r.a.createElement(v,{updateHasErrorState:this.updateHasErrorState}))}}]),a}(l.Component),N=a(18),T=a.n(N);a(60);T.a.initializeApp({apiKey:"AIzaSyCfGmCQDVUrS-k2pZRPTEJtikizGn3PSRs",authDomain:"thefilmfactory-1e3dd.firebaseapp.com",databaseURL:"https://thefilmfactory-1e3dd.firebaseio.com",projectId:"thefilmfactory-1e3dd",storageBucket:"thefilmfactory-1e3dd.appspot.com",messagingSenderId:"892695161812",appId:"1:892695161812:web:34c97f278acddb7cec4441"});var C=T.a,P=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.pair,t=e.englishFilm,a=e.foreignFilm;return r.a.createElement("li",{className:"pair-block"},r.a.createElement("ul",{className:"pair wrapper"},r.a.createElement("li",{className:"film-flex"},r.a.createElement("div",{className:"pair-info english"},r.a.createElement("h3",null,t.title),t.title.toLowerCase()!==t.original_title.toLowerCase()&&r.a.createElement("h4",null,t.original_title),r.a.createElement("p",{className:"date"},t.release_date.slice(0,4)),r.a.createElement("p",{className:"rating"},r.a.createElement(E.a,{icon:b.a})," ",t.vote_average,"/10"),r.a.createElement("p",{className:"overview"},t.overview)),r.a.createElement("div",{className:"pair-poster"},r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"Movie poster for ".concat(t.title)}))),r.a.createElement("li",{className:"film-flex"},r.a.createElement("div",{className:"pair-info"},r.a.createElement("h3",null,a.title),a.title.toLowerCase()!==a.original_title.toLowerCase()&&r.a.createElement("h4",null,a.original_title),r.a.createElement("p",{className:"date"},a.release_date.slice(0,4)),r.a.createElement("p",{className:"rating"},r.a.createElement(E.a,{icon:b.a})," ",a.vote_average,"/10"),r.a.createElement("p",{className:"overview"},a.overview)),r.a.createElement("div",{className:"pair-poster"},r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500/".concat(a.poster_path),alt:"Movie poster for ".concat(a.title)})))))}}]),a}(l.Component),j=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).savePair=function(){C.database().ref().push({englishFilm:e.props.englishFilm,foreignFilm:e.props.foreignFilm}),e.setState({savePairActive:!1})},e.state={savePairActive:!0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({savePairActive:!0}),this.props.scrollToCurrentPair()}},{key:"render",value:function(){var e=this,t={englishFilm:this.props.englishFilm,foreignFilm:this.props.foreignFilm};return r.a.createElement(l.Fragment,null,r.a.createElement("div",{className:"wrapper film-pair-header"},r.a.createElement("h3",{ref:this.props.CurrentPairRef},"Film Pairing"),r.a.createElement("p",null,"If you liked that film, you might like this one...")),r.a.createElement(P,{pair:t}),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"film-pair-buttons"},r.a.createElement("button",{onClick:function(){e.savePair(),e.props.scrollToPairs()},className:this.state.savePairActive?"save-pair active shadow":"save-pair disabled"},"Save Pair"),r.a.createElement("button",{className:"shadow",onClick:function(){e.props.scrollToSearch()}},"Search Again"))))}}]),a}(l.Component),O=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={filmPairs:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.database().ref().on("value",(function(t){var a=[],l=t.val();for(var r in l)a.push({pair:l[r],id:r});a.reverse(),e.setState({filmPairs:a})}))}},{key:"render",value:function(){return r.a.createElement("section",{className:"pairs",ref:this.props.PairsRef},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h2",null,"Movies To Watch")),r.a.createElement("ul",null,this.state.filmPairs.map((function(e){return r.a.createElement(P,{pair:e.pair,key:e.id})}))))}}]),a}(l.Component),_=a(8),R=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("section",{className:"team-info"},r.a.createElement("p",{className:"team-made"},"Made with ",r.a.createElement("span",{className:"heart","aria-label":"love"},"\u2665")," by ",r.a.createElement("span",{className:"team-group"},"The Film Four")),r.a.createElement("ul",{className:"team-members"},r.a.createElement("ul",{className:"team-member"},r.a.createElement("li",{className:"team-name"},"Eyel"),r.a.createElement("ul",{className:"team-social"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/csmordido",title:"Click to access Eyel's Github page",target:"_blank"},r.a.createElement(E.a,{icon:_.a}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/eyel_mordido",title:"Click to access Eyel's Twitter page",target:"_blank"},r.a.createElement(E.a,{icon:_.b}))))),r.a.createElement("ul",{className:"team-member"},r.a.createElement("li",{className:"team-name"},"Melissa"),r.a.createElement("ul",{className:"team-social"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/mel-ahls",title:"Click to access Melissa's Github page",target:"_blank"},r.a.createElement(E.a,{icon:_.a}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/mel_ahls",title:"Click to access Melissa's Twitter page",target:"_blank"},r.a.createElement(E.a,{icon:_.b}))))),r.a.createElement("ul",{className:"team-member"},r.a.createElement("li",{className:"team-name"},"Robert"),r.a.createElement("ul",{className:"team-social"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/rduhig",title:"Click to access Robert's Github page",target:"_blank"},r.a.createElement(E.a,{icon:_.a}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/robert_duhig",title:"Click to access Robert's Twitter page",target:"_blank"},r.a.createElement(E.a,{icon:_.b}))))),r.a.createElement("ul",{className:"team-member"},r.a.createElement("li",{className:"team-name"},"Taylor"),r.a.createElement("ul",{className:"team-social"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/QuercusTaliare",title:"Click to access Taylor's Github page",target:"_blank"},r.a.createElement(E.a,{icon:_.a}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/taylorRdev",title:"Click to access Taylor's Twitter page",target:"_blank"},r.a.createElement(E.a,{icon:_.b}))))))),r.a.createElement("section",{className:"attributions"},r.a.createElement("p",null,"All films provided by ",r.a.createElement("a",{href:"https://www.themoviedb.org/documentation/api"},"The Movie DB API")),r.a.createElement("p",null,"All icons provided by ",r.a.createElement("a",{href:"https://fontawesome.com/license"},"Font Awesome")," and ",r.a.createElement("a",{href:"http://www.freepik.com/",title:"Freepik"},"Freepik"))))}}]),a}(l.Component),M=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).updateEnglishFilmState=function(t){e.setState({englishFilm:t})},e.updateForeignFilmState=function(t){e.setState({foreignFilm:t})},e.scrollToSearch=function(){window.scrollTo(0,e.SearchRef.current.offsetTop)},e.scrollToCurrentPair=function(){window.scrollTo(0,e.CurrentPairRef.current.offsetTop)},e.scrollToPairs=function(){window.scrollTo(0,e.PairsRef.current.offsetTop)},e.state={englishFilm:{},foreignFilm:{}},e.SearchRef=r.a.createRef(),e.CurrentPairRef=r.a.createRef(),e.PairsRef=r.a.createRef(),e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(l.Fragment,null,r.a.createElement(u,{scrollToSearch:this.scrollToSearch}),r.a.createElement("main",null,r.a.createElement(k,{englishFilm:this.state.englishFilm,updateEnglishFilmState:this.updateEnglishFilmState,updateForeignFilmState:this.updateForeignFilmState,SearchRef:this.SearchRef}),0!==Object.keys(this.state.englishFilm).length&&0!==Object.keys(this.state.foreignFilm).length&&r.a.createElement(j,{englishFilm:this.state.englishFilm,foreignFilm:this.state.foreignFilm,updateEnglishFilmState:this.updateEnglishFilmState,updateForeignFilmState:this.updateForeignFilmState,scrollToPairs:this.scrollToPairs,scrollToSearch:this.scrollToSearch,CurrentPairRef:this.CurrentPairRef,scrollToCurrentPair:this.scrollToCurrentPair}),r.a.createElement(O,{PairsRef:this.PairsRef})),r.a.createElement(R,null))}}]),a}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.89cba087.chunk.js.map