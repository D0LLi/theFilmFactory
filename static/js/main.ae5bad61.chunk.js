(this["webpackJsonpthe-film-factory"]=this["webpackJsonpthe-film-factory"]||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/film-reel.a06dd543.svg"},33:function(e,t,a){e.exports=a(62)},38:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var r=a(0),l=a.n(r),n=a(31),i=a.n(n),s=(a(38),a(3)),c=a(4),o=a(6),m=a(5),u=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("header",null,l.a.createElement("div",{className:"welcome"},l.a.createElement("h1",null,"The Film",l.a.createElement("br",null)," Factory"),l.a.createElement("button",{className:"scroll shadow",type:"button",onClick:this.props.scrollToSearch},"Find Your Movie Match")))}}]),a}(r.Component),p=a(10),h=a.n(p),f=a(15),d=a(16),g=a.n(d),E=a(2),b=a(9),v=function(e){var t=e.updateHasErrorState;return l.a.createElement("div",{className:"error-message"},l.a.createElement("div",{className:"main-content"},l.a.createElement("p",null,"Something went wrong,"),l.a.createElement("p",null,"please try again."),l.a.createElement("button",{type:"button",onClick:t},l.a.createElement(E.a,{icon:b.b}))))},F=a(32),y=a.n(F),w=function(){return l.a.createElement("div",{className:"loading-page"},l.a.createElement("div",{className:"main-content"},l.a.createElement("img",{src:y.a,alt:"spinning film reel"}),l.a.createElement("p",null,"Searching database...")))},k=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.film,a=e.closeFilmModal,r=e.selectFilm;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"overlay"},l.a.createElement("div",{className:"modal"},l.a.createElement("div",null,l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"Poster for the movie ".concat(t.title)})),l.a.createElement("div",{className:"modal-info"},l.a.createElement("button",{className:"close",type:"button",onClick:a},l.a.createElement(E.a,{icon:b.b})),l.a.createElement("h2",null,t.title),t.title!==t.original_title&&l.a.createElement("h4",null,t.original_title),l.a.createElement("p",{className:"date"},t.release_date.slice(0,4)),l.a.createElement("p",null,l.a.createElement(E.a,{icon:b.a})," ",t.vote_average,"/10"),l.a.createElement("p",null,t.overview),l.a.createElement("button",{className:"select shadow",type:"button",onClick:r},"Select this movie")))))}}]),a}(r.Component),S=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).scrollToFilms=function(){window.scrollTo(0,r.filmsRef.current.offsetTop)},r.displayFilmModal=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.setState({modal:{film:e,isForeign:t,display:!0}})},r.closeFilmModal=function(){r.setState({modal:{display:!1}})},r.handleChange=function(e){var t=e.target.value;r.setState({userTextInput:t})},r.handleSubmit=function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r.setState({foreignFilms:[],isLoading:!0}),a=[],e.next=5,g()({url:"https://api.themoviedb.org/3/search/movie",params:{api_key:"7e436244a51ab62563e1dbbb6bb31f24",query:r.state.userTextInput,language:"en-US",include_adult:!1}}).then((function(e){e.data.total_pages||r.setState({hasError:!0}),e.data.results.forEach((function(e){"en"===e.original_language&&e.poster_path&&a.length<10&&a.push(e),r.scrollToFilms()}))})).catch((function(e){r.setState({hasError:!0})}));case 5:r.setState({userTextInput:"",englishFilms:a,isLoading:!1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.selectEnglishFilm=Object(f.a)(h.a.mark((function e(){var t,a,l,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.closeFilmModal(),r.setState({isLoading:!0}),t=r.state.modal.film,a=r.state.modal.film.id,r.props.updateEnglishFilmState(t),r.props.updateForeignFilmState({}),l=[],n=0;case 8:if(!(n<=r.state.totalPages&&l.length<20)){e.next=14;break}return e.next=11,g()({url:"https://api.themoviedb.org/3/movie/".concat(a,"/similar"),params:{api_key:"7e436244a51ab62563e1dbbb6bb31f24",page:n+1}}).then((function(e){e.data.results.forEach((function(e){"en"!==e.original_language&&e.poster_path&&!l.some((function(t){return t.id===e.id}))&&l.length<20&&l.push(e)}));var t=e.data.total_pages;r.setState({totalPages:t})})).catch((function(e){e&&!r.state.foreignFilms.length&&r.setState({hasError:!0,totalPages:0})}));case 11:n++,e.next=8;break;case 14:r.setState({foreignFilms:l,englishFilms:[],isLoading:!1});case 15:case"end":return e.stop()}}),e)}))),r.selectForeignFilm=function(){r.closeFilmModal();var e=r.state.modal.film;r.props.updateForeignFilmState(e),r.setState({foreignFilms:[]})},r.updateHasErrorState=function(){r.setState({hasError:!1,totalPages:0})},r.state={userTextInput:"",englishFilms:[],foreignFilms:[],totalPages:0,isLoading:"",hasError:!1,modal:{film:{},isForeign:!1,display:!1}},r.filmsRef=l.a.createRef(),r}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"wrapper"},this.state.modal.display&&l.a.createElement(k,{film:this.state.modal.film,closeFilmModal:this.closeFilmModal,selectFilm:this.state.modal.isForeign?this.selectForeignFilm:this.selectEnglishFilm}),this.state.isLoading&&l.a.createElement(w,null),l.a.createElement("form",{onSubmit:this.handleSubmit,ref:this.props.SearchRef},l.a.createElement("input",{type:"text",value:this.state.userTextInput,onChange:this.handleChange,placeholder:"Enter Movie"}),l.a.createElement("input",{type:"submit",value:"Search"})),l.a.createElement("section",{className:"films",ref:this.filmsRef},this.state.foreignFilms.length?l.a.createElement("h2",null,"If you liked ",this.props.englishFilm.title,", then maybe you'll like..."):this.state.englishFilms.length?l.a.createElement("h2",null,"Did you mean..."):null,l.a.createElement("ul",{className:"grid-container"},this.state.foreignFilms.length?this.state.foreignFilms.map((function(t){return l.a.createElement("li",{key:t.id},l.a.createElement("button",{className:"shadow",type:"button",onClick:function(){return e.displayFilmModal(t,!0)}},l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"Poster for the movie ".concat(t.title)})))})):this.state.englishFilms.map((function(t){return l.a.createElement("li",{key:t.id},l.a.createElement("button",{className:"shadow",type:"button",onClick:function(){return e.displayFilmModal(t)}},l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"Poster for the movie ".concat(t.title)})))})))),this.state.hasError&&l.a.createElement(v,{updateHasErrorState:this.updateHasErrorState}))}}]),a}(r.Component),N=a(18),T=a.n(N);a(60);T.a.initializeApp({apiKey:"AIzaSyCfGmCQDVUrS-k2pZRPTEJtikizGn3PSRs",authDomain:"thefilmfactory-1e3dd.firebaseapp.com",databaseURL:"https://thefilmfactory-1e3dd.firebaseio.com",projectId:"thefilmfactory-1e3dd",storageBucket:"thefilmfactory-1e3dd.appspot.com",messagingSenderId:"892695161812",appId:"1:892695161812:web:34c97f278acddb7cec4441"});var C=T.a,P=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.pair,t=e.englishFilm,a=e.foreignFilm;return l.a.createElement("li",{className:"pair-block"},l.a.createElement("ul",{className:"pair wrapper"},l.a.createElement("li",{className:"film-flex"},l.a.createElement("div",{className:"pair-info english"},l.a.createElement("h3",null,t.title),t.title.toLowerCase()!==t.original_title.toLowerCase()&&l.a.createElement("h4",null,t.original_title),l.a.createElement("p",{className:"date"},t.release_date.slice(0,4)),l.a.createElement("p",{className:"rating"},l.a.createElement(E.a,{icon:b.a})," ",t.vote_average,"/10"),l.a.createElement("p",{className:"overview"},t.overview)),l.a.createElement("div",{className:"pair-poster"},l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"Movie poster for ".concat(t.title)}))),l.a.createElement("li",{className:"film-flex"},l.a.createElement("div",{className:"pair-info"},l.a.createElement("h3",null,a.title),a.title.toLowerCase()!==a.original_title.toLowerCase()&&l.a.createElement("h4",null,a.original_title),l.a.createElement("p",{className:"date"},a.release_date.slice(0,4)),l.a.createElement("p",{className:"rating"},l.a.createElement(E.a,{icon:b.a})," ",a.vote_average,"/10"),l.a.createElement("p",{className:"overview"},a.overview)),l.a.createElement("div",{className:"pair-poster"},l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500/".concat(a.poster_path),alt:"Movie poster for ".concat(a.title)})))))}}]),a}(r.Component),_=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).savePair=function(){C.database().ref().push({englishFilm:e.props.englishFilm,foreignFilm:e.props.foreignFilm}),e.setState({savePairActive:!1})},e.state={savePairActive:!0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({savePairActive:!0}),this.props.scrollToCurrentPair()}},{key:"render",value:function(){var e=this,t={englishFilm:this.props.englishFilm,foreignFilm:this.props.foreignFilm};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"wrapper film-pair-header"},l.a.createElement("h3",{ref:this.props.CurrentPairRef},"Film Pairing"),l.a.createElement("p",null,"If you liked that film, you might like this one...")),l.a.createElement(P,{pair:t}),l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"film-pair-buttons"},l.a.createElement("button",{onClick:function(){e.savePair(),e.props.scrollToPairs()},className:this.state.savePairActive?"save-pair active shadow":"save-pair disabled"},"Save Pair"),l.a.createElement("button",{className:"shadow",onClick:function(){e.props.scrollToSearch()}},"Search Again"))))}}]),a}(r.Component),j=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={filmPairs:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.database().ref().on("value",(function(t){var a=[],r=t.val();for(var l in r)a.push({pair:r[l],id:l});a.reverse(),e.setState({filmPairs:a})}))}},{key:"render",value:function(){return l.a.createElement("section",{className:"pairs",ref:this.props.PairsRef},l.a.createElement("div",{className:"wrapper"},l.a.createElement("h2",null,"Movies To Watch")),l.a.createElement("ul",null,this.state.filmPairs.map((function(e){return l.a.createElement(P,{pair:e.pair,key:e.id})}))))}}]),a}(r.Component),O=a(8),R=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("footer",null,l.a.createElement("section",{className:"team-info"},l.a.createElement("p",{className:"team-made"},"Made with ",l.a.createElement("span",{className:"heart","aria-label":"love"},"\u2665")," by ",l.a.createElement("span",{className:"team-group"},"The Film Four")),l.a.createElement("ul",{className:"team-members"},l.a.createElement("ul",{className:"team-member"},l.a.createElement("li",{className:"team-name"},"Eyel"),l.a.createElement("ul",{className:"team-social"},l.a.createElement("li",null,l.a.createElement("a",{href:"https://github.com/csmordido",title:"Click to access Eyel's Github page",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(E.a,{icon:O.a}))),l.a.createElement("li",null,l.a.createElement("a",{href:"https://twitter.com/eyel_mordido",title:"Click to access Eyel's Twitter page",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(E.a,{icon:O.b}))))),l.a.createElement("ul",{className:"team-member"},l.a.createElement("li",{className:"team-name"},"Melissa"),l.a.createElement("ul",{className:"team-social"},l.a.createElement("li",null,l.a.createElement("a",{href:"https://github.com/mel-ahls",title:"Click to access Melissa's Github page",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(E.a,{icon:O.a}))),l.a.createElement("li",null,l.a.createElement("a",{href:"https://twitter.com/mel_ahls",title:"Click to access Melissa's Twitter page",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(E.a,{icon:O.b}))))),l.a.createElement("ul",{className:"team-member"},l.a.createElement("li",{className:"team-name"},"Robert"),l.a.createElement("ul",{className:"team-social"},l.a.createElement("li",null,l.a.createElement("a",{href:"https://github.com/rduhig",title:"Click to access Robert's Github page",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(E.a,{icon:O.a}))),l.a.createElement("li",null,l.a.createElement("a",{href:"https://twitter.com/robert_duhig",title:"Click to access Robert's Twitter page",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(E.a,{icon:O.b}))))),l.a.createElement("ul",{className:"team-member"},l.a.createElement("li",{className:"team-name"},"Taylor"),l.a.createElement("ul",{className:"team-social"},l.a.createElement("li",null,l.a.createElement("a",{href:"https://github.com/QuercusTaliare",title:"Click to access Taylor's Github page",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(E.a,{icon:O.a}))),l.a.createElement("li",null,l.a.createElement("a",{href:"https://twitter.com/taylorRdev",title:"Click to access Taylor's Twitter page",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(E.a,{icon:O.b}))))))),l.a.createElement("section",{className:"attributions"},l.a.createElement("p",null,"All films provided by ",l.a.createElement("a",{href:"https://www.themoviedb.org/documentation/api",target:"_blank",rel:"noopener noreferrer"},"The Movie DB API")),l.a.createElement("p",null,"All icons provided by ",l.a.createElement("a",{href:"https://fontawesome.com/license",target:"_blank",rel:"noopener noreferrer"},"Font Awesome")," and ",l.a.createElement("a",{href:"http://www.freepik.com/",title:"Freepik",target:"_blank",rel:"noopener noreferrer"},"Freepik"))))}}]),a}(r.Component),M=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).updateEnglishFilmState=function(t){e.setState({englishFilm:t})},e.updateForeignFilmState=function(t){e.setState({foreignFilm:t})},e.scrollToSearch=function(){window.scrollTo(0,e.SearchRef.current.offsetTop)},e.scrollToCurrentPair=function(){window.scrollTo(0,e.CurrentPairRef.current.offsetTop)},e.scrollToPairs=function(){window.scrollTo(0,e.PairsRef.current.offsetTop)},e.state={englishFilm:{},foreignFilm:{}},e.SearchRef=l.a.createRef(),e.CurrentPairRef=l.a.createRef(),e.PairsRef=l.a.createRef(),e}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(r.Fragment,null,l.a.createElement(u,{scrollToSearch:this.scrollToSearch}),l.a.createElement("main",null,l.a.createElement(S,{englishFilm:this.state.englishFilm,updateEnglishFilmState:this.updateEnglishFilmState,updateForeignFilmState:this.updateForeignFilmState,SearchRef:this.SearchRef}),0!==Object.keys(this.state.englishFilm).length&&0!==Object.keys(this.state.foreignFilm).length&&l.a.createElement(_,{englishFilm:this.state.englishFilm,foreignFilm:this.state.foreignFilm,updateEnglishFilmState:this.updateEnglishFilmState,updateForeignFilmState:this.updateForeignFilmState,scrollToPairs:this.scrollToPairs,scrollToSearch:this.scrollToSearch,CurrentPairRef:this.CurrentPairRef,scrollToCurrentPair:this.scrollToCurrentPair}),l.a.createElement(j,{PairsRef:this.PairsRef})),l.a.createElement(R,null))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.ae5bad61.chunk.js.map